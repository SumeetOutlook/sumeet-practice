<div class="md-dialog-container">
    <mat-toolbar cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle class="mat-toolbar" style="background-color:rgb(12, 48, 87);color:white">
      <span style="position: relative;left: 40%;">{{ Headers.CreateComponents }}</span>
      <span class="example-spacer"></span>
      <button mat-icon-button class="example-icon" aria-label="Example icon-button with close icon"
        (click)="dialogRef.close(false)">
        <mat-icon>close</mat-icon>
      </button>
    </mat-toolbar><br><br>
    <mat-dialog-content>
  
      <div class="example-container mat-elevation-z8 mt-8">
        <div style="font-weight: bold; color: #1d3478 !important;" >{{Headers.OriginalAsset}}</div>
        <table mat-table #table [dataSource]="dataSource" matSort>
  
  
          <ng-container matColumnDef="Inventory No.">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-100'">{{Headers.BarCode}} </th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-100'">{{element.Barcode}}</td>
          </ng-container>
  
          <ng-container matColumnDef="Asset No.">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-100'">{{Headers.AssetId}} </th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-100'">{{element.AssetId}}</td>
          </ng-container>
  
          <ng-container matColumnDef="Sub No.">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-100'">{{Headers.SubAssetID}} </th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-100'">{{element.SubAssetId}}</td>
          </ng-container>
  
          <ng-container matColumnDef="Asset Class">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-150'">{{Headers.BlockOfAsset}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-150'">{{element.BlockOfAsset}}</td>
          </ng-container>
  
          <ng-container matColumnDef="Asset Name">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-150'">{{Headers.ADL2}} </th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-150'">{{element.ADL2}}</td>
          </ng-container>
  
          <ng-container matColumnDef="Asset Description">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-150'">{{Headers.ADL3}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-150'">{{element.ADL3}}</td>
          </ng-container>
          <ng-container matColumnDef="Serial No">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-150'">{{Headers.SerialNo}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-150'">{{element.SerialNo}}</td>
          </ng-container>
          <ng-container matColumnDef="IT Serial No">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-150'">{{Headers.ITSerialNo}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-150'">{{element.ITSerialNo}}</td>
          </ng-container>
  
          <ng-container matColumnDef="Plant">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-150'">{{Headers.Location}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-150'">{{element.Location}}</td>
          </ng-container>
  
          <ng-container matColumnDef="Cost">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-150'">{{Headers.AcquisitionCost}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-150'">{{element.AcquisitionCost | number : '1.2-2'}}</td>
          </ng-container>
  
          <ng-container matColumnDef="WDV">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-100'">{{Headers.WDV}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-100'">{{element.WDV | number : '1.2-2'}}</td>
          </ng-container>
          <ng-container matColumnDef="Inventory Indicator">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-100'">{{Headers.Taggable}}</th>
            <td mat-cell *matCellDef="let element" [ngClass]="'w-100'">{{element.Taggable}}</td>
          </ng-container>
          <ng-container matColumnDef="AssetCondition">
            <th mat-sort-heade mat-header-cell *matHeaderCellDef [ngClass]="'w-100'">{{Headers.AssetCondition}}</th>
            <td mat-cell *matCellDef="let element"> {{element.AssetCondition}} </td>
          </ng-container>
          <ng-container matColumnDef="AssetCriticality">
            <th mat-sort-header mat-header-cell *matHeaderCellDef [ngClass]="'w-100'">{{Headers.AssetCriticality}}</th>
            <td mat-cell *matCellDef="let element"> {{element.AssetCriticality}} </td>
          </ng-container>
  
          <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true "></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
  
      <div fxLayout="row wrap">
        <div fxFlex="20" class="pr-1">
          <!-- <button mat-raised-button color="primary" (click)="AssertList()">Create Components</button> -->
          <button matTooltip="{{ Headers.CreateComponents }}" class="btn"
            style="background-color: #e67e4a !important;color: white !important;" mat-icon-button
            aria-label="Example icon-button with add icon" (click)="AssertList()">
            <mat-icon [style.fontSize]="'25px'" style="color:white">add</mat-icon>
          </button>
          <span style="padding-left: 15px;">
            <!-- <mat-icon>arrow_right_alt</mat-icon> -->
            <label style="font-weight: bold;color: #1d3478 !important;">{{ Headers.CreateComponents }}</label>
          </span>
        </div>
        <!-- <div fxFlex="80" class="pr-1 full">       
          <label style="color: steelblue;">{{ Headers.CreateComponents }}</label>
        </div> -->
      </div>
  
      <div class="example-container mat-elevation-z8 mt-8">
        <table mat-table #table [dataSource]="dataSource1" matSort>
  
          <ng-container matColumnDef="ADL2">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.ADL2}} </th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <input type = 'text' matInput  [(ngModel)] = "element.ADL2" autocomplete="off">
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
  
          <ng-container matColumnDef="ADL3">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.ADL3}} </th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <input type = 'text' matInput  [(ngModel)] = "element.ADL3" autocomplete="off">
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
  
          <ng-container matColumnDef="TAId">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.TypeOfAsset}} </th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <mat-select   [(ngModel)] = "element.TAId" autocomplete="off">
                  <mat-option *ngFor="let cate of allAssetTypeData" value="{{cate.TAId}}" (click)="onCategoryChange(cate.TAId , element)">{{cate.TypeOfAsset}}</mat-option>
             
                  </mat-select>
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
  
          <ng-container matColumnDef="STAId">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.SubTypeOfAsset}}</th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <mat-select [(ngModel)] = "element.STAId" autocomplete="off">
                  <mat-option *ngFor="let subc of element.allSubtypeData" value="{{subc.STAId}}" >{{subc.SubTypeOfAsset}}</mat-option>
                 
                </mat-select>
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
  
  
          <ng-container matColumnDef="SerialNo">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.SerialNo}}</th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <input type = 'text' matInput  [(ngModel)] = "element.SerialNo" autocomplete="off">
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
          <ng-container matColumnDef="ITSerialNo">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.ITSerialNo}}</th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <input type = 'text' matInput  [(ngModel)] = "element.ITSerialNo" autocomplete="off">
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef> <span style="font-weight: bold;padding-left: 30px;">Total</span> </td>
          </ng-container>
  
          <ng-container matColumnDef="Quantity">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.Quantity}}</th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <input type = 'text' matInput  [(ngModel)] = "element.Quantity" (blur) ="OnchangeQty(element)" autocomplete="off">
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef><span style="font-weight: bold;padding-left: 20px;"> {{Quantitys}} </span>  </td>
          </ng-container>
  
          <ng-container matColumnDef="AcquisitionCost">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.AcquisitionCost}}</th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <input type = 'text' matInput  [(ngModel)] = "element.AcquisitionCost" (blur) ="change(element)" autocomplete="off">
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef><span style="font-weight: bold;padding-left: 20px;"> {{AcquisitionCosts | number : '1.2-2' }} </span>  </td>
          </ng-container>
  
          <ng-container matColumnDef="WDV">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.WDV}}</th>
            <td mat-cell *matCellDef="let element">
              <mat-form-field class="full-width" appearance="outline">
                <input type = 'text' matInput  value="{{element.WDV | number : '1.2-2'}}" autocomplete="off" disabled="true">
              </mat-form-field>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
  
          <ng-container matColumnDef="Split">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>{{Headers.Split}}</th>
            <td mat-cell *matCellDef="let element">
              <mat-checkbox [checked]="element.checked" class="column-width" (click)="$event.stopPropagation()"
                (change)="SplitAssertList(element)"
                [disabled]="(element.Quantity < 2 || element.AcquisitionCost =='0' || element.AcquisitionCost =='')">
              </mat-checkbox>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
  
          <!-- <ng-container matColumnDef="Action">
            <th mat-sort-header mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element; let i = index">
              <mat-icon [style.fontSize]="'25px'" style="color:red" (click)="remove(element)">highlight_off</mat-icon>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container> -->
  
          <ng-container matColumnDef="Action1">
            <th mat-sort-header mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let element">
              <mat-icon [style.fontSize]="'25px'" style="color:red;cursor: pointer;" *ngIf="element.PreFarId > 1" (click)="remove(element)">highlight_off</mat-icon>
            </td>
            <td mat-footer-cell *matFooterCellDef> </td>
          </ng-container>
  
          <tr mat-header-row *matHeaderRowDef="displayedColumns1;sticky: true "></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
          <tr mat-footer-row *matFooterRowDef="displayedColumns1; sticky: true"></tr>
        </table>
      </div>
  
      <div fxLayout="row wrap">
        <div fxFlex="100" class="pr-1 full">
          <button mat-raised-button class="success" style="margin: 10px 0% 20px 80%;" (click)="Submit()"
            [disabled]="btncomponents"><mat-icon>check</mat-icon> Save & Create Components</button>
        </div>
      </div>
  
    </mat-dialog-content>
  </div>
