
<div class="height-100vh black">
    <div fxLayout="row wrap" fxLayoutAlign="end">
        <button mat-icon-button style="margin-bottom: 5px !important;" [matMenuTriggerFor]="accountMenu"
            class="topbar-button-right img-button">
            <img style="width: 42px;height: 41px;" src="assets/images/assetrak/USER1.png" alt="" />
        </button>
    </div>
    <mat-menu #accountMenu="matMenu">
        <mat-list _ngcontent-orn-c466="" style="height: 60px; width: 250px;"
            class="mat-list mat-list-base compact-list mb-16">
            <mat-list-item _ngcontent-orn-c466=""
                class="mat-list-item mat-focus-indicator mat-list-item-avatar mat-list-item-with-avatar ng-star-inserted">
                <div class="mat-list-item-content"
                    style="flex-direction: row; box-sizing: border-box; display: flex;width: 100%;">
                    <div mat-ripple="" class="mat-ripple mat-list-item-ripple">    
                    </div>
                    <div class="mat-list-text">    
                    </div>    
                    <div _ngcontent-orn-c466="" fxflex="100" style="flex: 1 1 100%; box-sizing: border-box; max-width: 100%;">{{Name}}</div>
                    <span _ngcontent-orn-c466="" fxflex="" style="flex: 1 1 0%; box-sizing: border-box;"></span>    
                </div>
            </mat-list-item>    
        </mat-list>    
        <mat-divider></mat-divider>
        <!-- <button mat-menu-item routerLink="/sessions/selectGRC">
            <mat-icon>exit_to_app</mat-icon>
            <span>Change Company</span>
        </button> -->
        <button mat-menu-item (click)="jwtAuth.signout()">
            <mat-icon>exit_to_app</mat-icon>
            <span>LogOut</span>
        </button>
    </mat-menu>
    <div [perfectScrollbar]="{}" class="height-100vh black" fxLayout="row wrap" fxLayoutAlign="center center">
        <!-- <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="center center">
            <div class="text-center">
        <img  style="width: 464px !important;height: 219px !important;" src="assets/images/assetrak/AssetCuesLogoBB.png" alt class="app-logo">  
        </div>
        </div>   -->
        <div class="signup4-container mat-elevation-z4 white" fxLayout="row wrap" fxLayout.xs="column"
            fxLayoutAlign="start stretch" fxFlex="46" fxFlex.xs="94" fxFlex.sm="80">
    
            <div fxFlex="100" fxLayout="row wrap" fxLayoutAlign="center center">
                <div class=" pt-16" >
                    <div mat-dialog-title style="font-size: 19px !important;">Select the {{Headers.Group}}, {{Headers.RegionName}} or {{Headers.LegalEntity}} you
                        want to access</div>
                </div>
                <form class="signup4-form " style="width: 100% !important;">
                    <div fxFlex="100" style="height: 350px !important;overflow: hidden !important;">
                        
                        <mat-tab-group animationDuration="200ms" [selectedIndex]="selectedIndex" (selectedTabChange)="tabChanged($event)">
                            <mat-tab label="{{Headers.Group}}" style="color: black !important;">                           
                                    <form >                                  
                                        <div class="example-container" >                                        
                                              <table mat-table [dataSource]="groupdatasource" matSort class="tableStyle">
                  
                                                <ng-container matColumnDef="LevelNameValue" >
                                                  <!-- <th mat-sort-header="GroupName" mat-header-cell *matHeaderCellDef></th> -->
                                                  <td mat-cell *matCellDef="let element">{{element.LevelNameValue}}</td>
                                                </ng-container>
                                    
                                                <!-- <tr mat-header-row *matHeaderRowDef="displayedColumnsGroup;sticky:true"></tr> -->
                                                <tr mat-row *matRowDef="let row; columns: displayedColumnsGroup;" class="upload-wrapper" (click)="selectData(row)" 
                                                [ngClass]="{hovered: row.hovered, highlighted: selection.isSelected(row)}"
                                                 style="cursor: pointer !important;" ></tr>
                                              </table>
                                        </div>
                                       
                                    </form>
                                
                            </mat-tab>
                            <mat-tab label="{{Headers.RegionName}}" style="color: black !important;">
    
                                <form >
                                    <div class="example-container"> 
                                      <table mat-table [dataSource]="regiondatasource" matSort class="tableStyle">
          
                                        <ng-container matColumnDef="LevelNameValue" >
                                          <!-- <th mat-sort-header="GroupName" mat-header-cell *matHeaderCellDef></th> -->
                                          <td mat-cell *matCellDef="let element">{{element.LevelNameValue}}</td>
                                        </ng-container>
                            
                                        <!-- <tr mat-header-row *matHeaderRowDef="displayedColumnsGroup;sticky:true"></tr> -->
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsRegion;" (click)="selectData(row)" 
                                        [ngClass]="{hovered: row.hovered, highlighted: selection.isSelected(row)}"
                                         style="cursor: pointer !important;"></tr>
                                      </table>
                               </div>
                            </form>
    
                            </mat-tab>
                            <mat-tab label="{{Headers.LegalEntity}}" style="color: black !important;">
    
                                <form >
                                   <div class="example-container"> 
                                      <table mat-table [dataSource]="legaldatasource" matSort class="tableStyle">
          
                                        <ng-container matColumnDef="LevelNameValue" >
                                       
                                          <td mat-cell *matCellDef="let element">
                                            <span *ngIf="selectedRowIndex1 != element.LevelNameValue">{{element.LevelNameValue}} </span>
                                            <span *ngIf="selectedRowIndex1 == element.LevelNameValue" >
                                              <mat-icon style="font-size: 16px;">check</mat-icon>
                                            </span>
                                            <span *ngIf="selectedRowIndex1 == element.LevelNameValue"
                                              style="font-weight: bold;font-size: 15px;">{{element.LevelNameValue}} </span>
                                          </td>
                                        </ng-container>
                            
                                        <tr mat-row *matRowDef="let row; columns: displayedColumnsLegal;" (click)="selectData(row)" 
                                        [ngClass]="{hovered: row.hovered, highlighted: selection.isSelected(row)}"
                                         style="cursor: pointer !important;" ></tr>
                                      </table>
                               </div>
                            </form>
                            </mat-tab>
                        </mat-tab-group>    
                    </div>    
                </form>
            </div>
            <div fxFlex="100" fxLayout="row wrap"  class="pt-8 pb-8 pr-8 ">
              <span (click)="Check()" style="cursor: pointer;">
                <mat-icon  *ngIf="!!checked" style="float: left !important;margin-top: 2px !important;font-size:18px;font-weight: bold;font-weight: bold;margin-left: 31px;color: #10174c;"> favorite </mat-icon>
                <mat-icon  *ngIf="!checked" style="float: left !important;margin-top: 2px !important;font-size:18px;font-weight: bold;font-weight: bold;margin-left: 31px;color: #10174c;"> favorite_border </mat-icon>
                <mat-label>Remember My Selection</mat-label>
              </span>  
                <!-- <mat-checkbox class="pl-12"   style="float: left !important;margin-top: 6px !important;font-size:18px;font-weight: bold;font-weight: bold;margin-left: 31px;" (click)="Check()"><mat-label>Remember My Selection</mat-label></mat-checkbox> -->
                <span fxFlex></span>
                <button mat-raised-button class="success" style="float: right !important;margin-right: 24px !important;" [disabled]="ValidData" (click)="Continue()"><mat-icon>check</mat-icon> Continue</button>
            </div>
        </div>
    </div>
</div>


